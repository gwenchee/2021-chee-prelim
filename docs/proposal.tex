\chapter{Future Work and Proposed Simulations}

The need for this work is shown by a summary of how additive manufacturing 
of nuclear reactor core components frees complex reactor geometries from 
previous manufacturing constraints enabling reactor designers to reexamine 
reactor core design optimization.
The literature review (Chapter \ref{chap:lit-review}) concluded that stochastic 
evolutionary algorithm optimization methods could find global 
optimums for reactor design problems in the vast exploration design space 
enabled by additive manufacturing. 
Chapter \ref{chap:fhr-benchmark} introduced the \acrfull{FHR} benchmark 
(\gls{AHTR} design) and highlighted the reactor's benefits, such as passive safety 
behavior with negative temperature coefficients. 
Chapter \ref{chap:realm} introduced the \acrfull{REALM} software package 
which applies evolutionary algorithm optimization techniques to nuclear 
reactor design. 
Chapter \ref{chap:realm-demo} demonstrated successfully applying \gls{REALM} 
to optimize the \gls{TRISO} packing fraction distribution in an \gls{AHTR} slab. 

Based on the preliminary work conducted, this chapter proposes 
future simulations categorized into two groups: \gls{AHTR} development and 
\gls{REALM} optimization. 
The proposed work aims to address \gls{AHTR} modeling challenges further and 
demonstrate using \gls{REALM} for multi-objective \gls{AHTR} 
optimization for arbitrary geometries and fuel distribution. 
For \gls{AHTR} development, I propose the following simulations: 
\begin{itemize}
    \item \gls{AHTR} 3D full core neutronics OpenMC simulation
    \item \gls{AHTR} fuel slab and one-third fuel assembly multiphysics 
    Moltres simulation
\end{itemize}
For \gls{REALM} optimization, I propose the following \gls{REALM} simulations: 
\begin{itemize}
    \item \gls{AHTR} slab geometry optimization to maximize $k_{eff}$, 
    minimize power peaking, and maximize heat transfer by varying \gls{TRISO} 
    x-axis distribution and \gls{FLiBe} channel shape using OpenMC. 
    \item \gls{AHTR} one-third fuel assembly optimization to maximize $k_{eff}$, 
    minimize power peaking, and maximize heat transfer by varying \gls{TRISO} 
    XY axes distribution and \gls{FLiBe} channel shape using OpenMC.
\end{itemize}

\section{AHTR Model Development}
The \gls{FHR} benchmark introduced in Chapter \ref{chap:fhr-benchmark} is an 
ongoing \gls{NEA} project to assess the modeling and simulation capabilities 
for the \gls{AHTR}. 
Benchmark participants', including the \gls{UIUC} team, contributed Phases I-A 
and I-B (2D assembly steady-state and depletion) so far.  
The upcoming phases consist of 3D neutronics models and multiphysics models. 
Thus, to support the \gls{FHR} benchmark, the proposed work will complete the 
benchmark's Phase I-C.
In preparation for the later multiphysics benchmark phases, the proposed 
work will utilize Moltres to model \gls{AHTR} multiphysics.

\subsection{FHR Benchmark Phase I-C}
The \gls{FHR} benchmark's Phase I-C extends the 2D assembly model from Phases 
I-A and I-B into a 3D assembly model. 
The benchmark organizers will release Phase I-C's detailed specifications and 
required results in June 2021.

\subsection{AHTR Multiphysics Model}
\label{sec:ahtr_multiphysics_model}
Setting up a Moltres multiphysics simulation requires the user to provide group 
constant data from a neutron transport solver, such as OpenMC. 
The group constants used for neutronics calculations in Moltres are 
\cite{lindsay_introduction_2018,park_advancement_2020}: 
\begin{align*}
  &\Sigma^f_{g} \text{: macroscopic fission cross section in group $g$,} \\
  &\Sigma^r_{g} \text{: macroscopic removal cross section in group $g$,} \\
  &\Sigma^s_{g' \rightarrow g} \text{: macroscopic scattering cross section
  from group $g$' to $g$,} \\
  &D_g \text{: diffusion coefficient of neutrons in group $g$,} \\
  &\epsilon_g \text{: average fission energy per fission by a neutron from
  group $g$,} \\
  &\nu \text{: average neutron yield per fission by a neutron from group
  $g$,} \\
  &\frac{1}{v} \text{: inverse neutron speed in group $g$,} \\
  &\lambda_i \text{: decay constant of \gls{DNP} group $i$,} \\
  &\beta_{eff} \text{: effective delayed neutron fraction.} 
\end{align*}
These group constants are extracted from the neutron transport solver's output files 
using a Python script from the Moltres Github repository \cite{lindsay_moltres_2017}. 
The Python script currently enables group constant extraction from Serpent 
\cite{leppanen_serpent_2014} and SCALE \cite{bucholz_scale:_1982} output files.
I used OpenMC to model the neutronics of the \gls{AHTR} for the \gls{FHR} benchmark;
thus, I will add the capability to extract group constants from OpenMC output 
files to the Moltres Python group constants extraction script. 

Section \ref{sec:multiphysics_homo} demonstrated that multigroup neutronics 
simulation with four-group energy and spatial homogenization of the \gls{AHTR} 
fuel slab generated a $k_{eff}$ within uncertainty of the continuous energy and 
space neutronics simulation. I will utilize these homogenizations to create 
group constants for the Moltres \gls{AHTR} fuel slab simulation. I will then 
set up a mesh for the \gls{AHTR} fuel slab and run a Moltres simulation and 
verify Moltres' ability to reproduce the following key neutronics parameters: 
\begin{itemize}
  \item $k_{eff}$ (effective multiplication factor)
  \item reactivity coefficients: $\beta_{eff}$, $\alpha_D$ (doppler coefficient), 
  $\alpha_{T, FliBe}$ (\gls{FLiBe} temperature coefficient), $\alpha_{M}$ 
  (moderator temperature coefficient)
  \item Neutron energy spectrum 
  \item $\phi_1(\vec{x},\vec{y}), \phi_2(\vec{x},\vec{y}), \phi_3(\vec{x},\vec{y})$ 
  (neutron flux distribution in four coarse energy groups) 
\end{itemize}
Once verified, I will run a steady-state Moltres multiphysics simulation to 
determine the maximum temperature in the fuel slab at steady-state. 

With information gleaned from the Moltres \gls{AHTR} fuel slab simulation, I 
will test out energy and spatial homogenization for generating group constants 
for a one-third \gls{AHTR} fuel assembly model.  
Then, proceed to set up the one-third \gls{AHTR} fuel assembly model simulation, 
verify its key neutronics parameters, and finally run a steady-state Moltres 
simulation.

\section{REALM Optimization}
Section \ref{sec:realm_opt_ahtr_slab} concluded that the \gls{AHTR| slab 
optimization problem should be further developed by considering other objectives 
such as maximizing heat transfer and minimizing power peaking in the core. 
In the proposed work, I will explore each objective separately and then together.
Table \ref{tab:objectives} describes each objective and how the objective will 
be quantified. 
\begin{table}[]
    \centering
    \onehalfspacing
    \caption{\acrfull{REALM} optimization problem objectives with their quantification 
    descriptions.}
	\label{tab:objectives}
    \footnotesize
    \begin{tabular}{p{4cm}p{8cm}}
    \hline 
    \textbf{Objective}& \textbf{Quantification}  \\
    \hline
    Best neutronics & Maximize $k_{eff}$\\ 
    Maximize heat transfer & Maximize $\phi_{total}$ in areas along FLiBe coolant \\
    Minimize power peaking & Minimize $P_{high}-P_{low}$ \\
    \hline
    \end{tabular}
\end{table}
The slab parameters that will be varied to meet the described problem objectives 
include: 
\begin{itemize}
    \item \gls{TRISO} particle packing fraction distribution
    \item \gls{FLiBe} coolant channel shape 
\end{itemize} 
I will conduct these optimizations for the straightened \gls{AHTR} fuel slab 
geometry (as seen in Figure \ref{fig:straightened_slab}) and for one 
diamond-shaped sector containing six fuel slabs (as seen in Figure 
\ref{fig:ahtr-fuel-assembly}) with x-y periodic and z reflective boundary 
conditions. 
% show how x-y variation will occur. 
Table \ref{tab:realm_simulations} outlines the details of the proposed 
simulations. 
\begin{table}[]
    \centering
    \onehalfspacing
    \caption{Proposed \acrfull{REALM} simulations for optimizing \acrfull{AHTR}
    fuel assembly. Simulations explore two geometries: straightened \gls{AHTR} 
    fuel slab and \gls{AHTR}'s diamond-shaped section containing six fuel slabs.}
	\label{tab:realm_simulations}
    \footnotesize
    \begin{tabular}{clll}
    \hline 
    \textbf{Simulation}& \textbf{AHTR Geometry} & \textbf{Objectives} & \textbf{Varying Parameters}  \\
    \hline
    1 & Single fuel slab & \tabitem Maximize $k_{eff}$ &\tabitem TRISO distribution \\
    2 & Single fuel slab & \tabitem Maximize heat transfer &\tabitem TRISO distribution \\
    3 & Single fuel slab & \tabitem Minimize power peaking & \tabitem TRISO distribution \\
    4 & Single fuel slab & \tabitem Maximize $k_{eff}$ & \tabitem FLiBe channel shape \\ 
    5 & Single fuel slab & \tabitem Maximize heat transfer & \tabitem FLiBe channel shape \\
    6 & Single fuel slab & \tabitem Minimize power peaking & \tabitem FLiBe channel shape \\
    7 & Single fuel slab & \tabitem Maximize $k_{eff}$ & \tabitem TRISO distribution \\ 
      & & \tabitem Maximize heat transfer & \\
      & & \tabitem Minimize power peaking & \\ 
    8 & Single fuel slab & \tabitem Maximize $k_{eff}$ & \tabitem FLiBe channel shape \\ 
      & & \tabitem Maximize heat transfer & \\
      & & \tabitem Minimize power peaking & \\     
    9 & Single fuel slab & \tabitem Maximize $k_{eff}$ & \tabitem TRISO distribution \\  
      & & \tabitem Maximize heat transfer & \tabitem FLiBe channel shape \\
      & & \tabitem Minimize power peaking & \\   
    10 & Diamond section with six fuel slabs & \tabitem Maximize $k_{eff}$ & \tabitem TRISO distribution \\ 
      & & \tabitem Maximize heat transfer & \\
      & & \tabitem Minimize power peaking & \\ 
    11 & Diamond section with six fuel slabs & \tabitem Maximize $k_{eff}$ & \tabitem FLiBe channel shape \\ 
      & & \tabitem Maximize heat transfer & \\
      & & \tabitem Minimize power peaking & \\     
    12 & Diamond section with six fuel slabs & \tabitem Maximize $k_{eff}$ & \tabitem TRISO distribution \\  
      & & \tabitem Maximize heat transfer & \tabitem FLiBe channel shape \\
      & & \tabitem Minimize power peaking & \\  
    \hline
    \end{tabular}
\end{table}
% Simulation 1 was conducted in Chapter 5 but I want to explore it further with 
% larger a bounds since it capped out at 2. 
I will use the optimal hyperparameters derived in Section 
\ref{sec:hyperparameter_search} for the proposed simulations. 
Ideally, a new hyperparameter search should be conducted for each simulation to 
find the best hyperparameter set for each unique problem; however, the 
computational expense for conducting 11 hyperparameter searches is impractical.
Using the same hyperparameter set is acceptable because the problems are similar. 
% talk about how hyperparameters that work are around the same for similar problems. 
Table \ref{tab:best_hyperparameters} summarizes the optimal hyperparameters.
\begin{table}[]
    \centering
    \onehalfspacing
    \caption{Hyperparameter values for the best hyperparameter set calculated in 
    Section \ref{sec:hyperparameter_search}.}
	\label{tab:best_hyperparameters}
    \footnotesize
    \begin{tabular}{ll}
    \hline 
    \textbf{Hyperparameters}& \textbf{Values}  \\
    \hline
    Population size & 60\\ 
    Generations & 10\\
    Mutation probability & 0.23\\ 
    Mating probability & 0.46\\
    Selection operator & \texttt{selTournament}\\
    Selection individuals & 15\\
    Selection tournament size & 5\\ 
    Mutation operator & \texttt{mutPolynomialBounded}\\ 
    Mating operator & \text{cxBlend}\\ 
    \hline
    \end{tabular}
\end{table}

The REALM simulations proposed in Table \ref{tab:realm_simulations} might be 
extended to include Moltres evaluations if the proposed \gls{AHTR} multiphysics
Moltres simulations (Section \ref{sec:ahtr_multiphysics_model}) find approximations 
and assumptions that maintain accuracy while keeping acceptable Moltres runtimes.


\section{Conclusion}
% summarize what the proposed work aims to demonstrate.